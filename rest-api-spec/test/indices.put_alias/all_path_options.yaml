---
setup:
# create two indices

  - do:
      indices.create:
        index: test_index1
  - do:
      indices.create:
        index: test_index2

---
"put alias per index":

  - do:
      indices.put_alias:
        index: test_index1
        name: alias
  - do:
      indices.put_alias:
        index: test_index2
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  
  - match: {test_index2.aliases.alias: {}}

---
"put alias in _all index":

  - do:
      indices.put_alias:
        index: _all
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  - match: {test_index2.aliases.alias: {}}

---
"put alias in * index":  


  - do:
      indices.put_alias:
        index: _all
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  - match: {test_index2.aliases.alias: {}}
    
---
"put alias prefix* index":  


  - do:
      indices.put_alias:
        index: "*"
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  - match: {test_index2.aliases.alias: {}}

---
"put alias in list of indices":  


  - do:
      indices.put_alias:
        index: "test_index1,test_index2"
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  - match: {test_index2.aliases.alias: {}}
   
---
"put alias with blank index":  


  - do:
      indices.put_alias:
        name: alias
        
  - do:
      indices.get_alias:
        name: alias

  - match: {test_index1.aliases.alias: {}}
  - match: {test_index2.aliases.alias: {}}
 
